<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ã‚«ãƒ¼ãƒ‰ä¸€è¦§</title>
<style>
:root {
  /* ================================
     ã‚«ãƒ©ãƒ¼ãƒ»ãƒ•ã‚©ãƒ³ãƒˆãƒ»é–“éš”ã®å¤‰æ•°
     ================================ */
  --color-primary: #f88379;       /* ãƒ¡ã‚¤ãƒ³ã‚«ãƒ©ãƒ¼ï¼ˆãƒœã‚¿ãƒ³ãªã©ï¼‰ */
  --color-gray-light: #f9f9f9;    /* ã‚«ãƒ¼ãƒ‰èƒŒæ™¯ */
  --color-gray-border: #ccc;      /* ã‚«ãƒ¼ãƒ‰å¢ƒç•Œç·š */
  --font-size-base: 14px; /* åŸºæœ¬æ–‡å­—ã‚µã‚¤ã‚ºã‚’å°ã•ã‚ã« */
  --font-size-small: 11px;
  --font-size-xsmall: 9px;
  --card-border-radius: 4px;      /* ã‚«ãƒ¼ãƒ‰è§’ä¸¸ */
  --spacing-xs: 2px;
  --spacing-sm: 4px;
  --spacing-md: 8px;
}

/* ================================
   ãƒšãƒ¼ã‚¸å…¨ä½“
   ================================ */
body {
  font-family: sans-serif;
  padding: 10px;
  background: #fff;
}
h1 {
  font-size: 19px;                 /* å¤§ãã‚ã®æ–‡å­—ã‚µã‚¤ã‚º */
  font-weight: 900;                /* å¤ªå­—ã§è±ªè¯ã•ã‚’å¼·èª¿ */
  text-align: center;              /* ä¸­å¤®æƒãˆ */
  background: linear-gradient(90deg, #f88379, #e53935, #ff6f61); /* å·¦ã‹ã‚‰å³ã¸ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
  -webkit-background-clip: text;   /* èƒŒæ™¯ã‚’æ–‡å­—ã«ã‚¯ãƒªãƒƒãƒ— */
  -webkit-text-fill-color: transparent; /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ–‡å­—ã«é©ç”¨ */
  text-shadow: 2px 2px 4px rgba(0,0,0,0.3); /* æ–‡å­—ã«å½±ã‚’ã¤ã‘ã‚‹ */
  margin-bottom: 12px;             /* ä¸‹ã®ä½™ç™½ */
  letter-spacing: 1px;  /* å°‘ã—æ–‡å­—é–“ã‚’åºƒã’ã‚‹ */
}

/* PCè¡¨ç¤ºç”¨ï¼ˆ768pxä»¥ä¸Šï¼‰ */
@media (min-width: 768px) {
  h1 {
    font-size: 40px; /* PCã§ã¯å¤§ããè¡¨ç¤º */
  }
}

.notice-header {
  text-align: center;
  font-size: 10px;      /* ãƒ˜ãƒƒãƒ€ãƒ¼ä¸‹ã§ã‚‚èª­ã¿ã‚„ã™ã„å¤§ãã• */
  line-height: 1.5;    /* è¡Œé–“å°‘ã—åºƒã‚ã§è¦–èªæ€§ã‚¢ãƒƒãƒ— */
  color: #333;
  margin: 8px 0 20px 0;
}

/* PCè¡¨ç¤ºç”¨ï¼ˆ768pxä»¥ä¸Šï¼‰ */
@media (min-width: 768px) {
  .notice-header {
    font-size: 18px; /* PCã§ã¯å¤§ããè¡¨ç¤º */
  }
}



.notice-header p {
  margin: 1px 0;
}

.notice-important {
  font-weight: bold;
  color: #e53935;
}

.notice-sellpoint {
  font-weight: 600;
  color: #f57c00;
}

.notice-quick {
  color: #1976d2;
}

.notice-dm {
  font-weight: bold;
  color: #388e3c;
}


/* ================================
   ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼ˆæ¤œç´¢ãƒ»ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãƒ»ãƒœã‚¿ãƒ³ï¼‰
   ================================ */
.controls { 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
  margin-bottom: 10px; 
}
.search-wrapper { 
  display: flex; 
  width: 100%; 
  margin-bottom: 8px; 
}
#searchInput { 
  flex: 1; 
  padding: 4px 6px;      /* â† å†…å´ç¸¦æ¨ªã®ä½™ç™½ã‚’å°ã•ã‚ã« */
  font-size: 36px;       /* â† æ­£å¸¸ãªæ–‡å­—ã‚µã‚¤ã‚ºã«ä¿®æ­£ */
  border: 1px solid var(--color-gray-border); 
  border-radius: 6px; 
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  height: 50px;          /* â† ç¸¦ã®é«˜ã•ã‚’å°‘ã—æŠ‘ãˆã‚‹ */
}
  #searchInput:focus {
  outline: none;
  border-color: #e53935;
  box-shadow: 0 2px 6px rgba(229,57,53,0.3);
}


/* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã®ä½™ç™½ */
.checkbox-group { 
    justify-content: center; /* ä¸­å¤®æƒãˆ */
  margin-bottom: 3px;  /* å¿…è¦ã«å¿œã˜ã¦èª¿æ•´ */
}

/* ã‚°ãƒ«ãƒ¼ãƒ—è¦‹å‡ºã—ï¼ˆã‚«ãƒ†ã‚´ãƒªåãªã©ï¼‰ */
.checkbox-group strong { 
  display: block; 
  margin-bottom: 1px; 
  font-size: 14px;      /* â† è¦‹å‡ºã—ã‚’å°‘ã—å¤§ãã */
  font-weight: bold;
   text-align: center; /* â† ã“ã‚Œã‚’è¿½åŠ  */
}

/* ãƒ©ãƒ™ãƒ«ï¼ˆãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æ¨ªã®æ–‡å­—ï¼‰ */
.checkbox-group label {
  display: inline-flex;
  align-items: center;
  margin-right: 14px;  /* â† ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹åŒå£«ã®é–“éš” */
  margin-bottom: 10px;  /* ç¸¦æ–¹å‘ã®ä½™ç™½ â† ã“ã“ã‚’è¿½åŠ /èª¿æ•´ */
  padding-left: 6px;  /* â† å·¦å´ã®ä½™ç™½ï¼ˆä¸è¦ãªã‚‰0ã§ã‚‚å¯ï¼‰ */
  cursor: pointer;
  line-height: 1.1;
  font-size: 24px;      /* â† ãƒ©ãƒ™ãƒ«æ–‡å­—ã‚’å¤§ãã‚ã« */
}

/* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æœ¬ä½“ */
.checkbox-group input[type="checkbox"] {
  transform: scale(1.4); /* â† ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’æ‹¡å¤§ */
  margin-right: 6px;     /* â† æ–‡å­—ã¨ã®é–“éš” */
}

.checkbox-group input:checked + span {
  background: linear-gradient(45deg, #f88379, #e53935);
  color: white;
  padding: 2px 4px;
  border-radius: 4px;
  font-weight: bold;
  transition: 0.2s;
}
  .checkbox-group input[type="checkbox"] {
  accent-color: #e53935; /* ãƒã‚§ãƒƒã‚¯æ™‚ã®è‰²ã‚’èµ¤ç³»ã§çµ±ä¸€ */
  transform: scale(1.4);
  margin-right: 4px;
  cursor: pointer;
}


.buttons-wrapper { 
  display: flex; 
  gap: 3px;          /* ãƒœã‚¿ãƒ³åŒå£«ã®éš™é–“ */
  width: 100%; 
  margin-top: 10px; 
}

.buttons-wrapper button {
  flex: 1;            /* â† å‡ç­‰ã«æ¨ªå¹…ã‚’å–ã‚‹ */
  padding: 16px 0;    /* â† é«˜ã•èª¿æ•´ï¼ˆãŠå¥½ã¿ã§18pxãã‚‰ã„ã§ã‚‚OKï¼‰ */
  font-size: 18px;    /* â† æ–‡å­—ã‚µã‚¤ã‚º */
  font-weight: bold; 
  text-align: center;
  background: linear-gradient(135deg, #f88379, #e53935);
  color: white;
  border-radius: 10px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.15);
  cursor: pointer;
  transition: 0.2s;
}

.buttons-wrapper button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.2);
}



/* ================================
   ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰
   ================================ */
.card-grid { 
  display: grid; 
  gap: 4px; /* â† æšæ•°å„ªå…ˆãªã‚‰ 4pxã€è¦‹ã‚„ã™ã•å„ªå…ˆãªã‚‰ 6ã€œ8px */
}

/* ã‚¹ãƒãƒ›è¡¨ç¤ºï¼ˆ767pxä»¥ä¸‹ï¼‰ */
@media (max-width: 767px) { 
  .card-grid:not(.no-image) { 
    grid-template-columns: repeat(6, 1fr); 
  } 
}

/* PCè¡¨ç¤ºï¼ˆ768pxä»¥ä¸Šï¼‰ */
@media (min-width: 768px) { 
  .card-grid { 
    grid-template-columns: repeat(6, 1fr); 
  }
  /* PCç”¨ .card.no-image ã®æ–‡å­—ã‚µã‚¤ã‚º */
  .card.no-image .card-name { font-size: 50px; }
  .card.no-image .card-quantity { font-size: 40px; }
  .card.no-image .card-price { font-size: 50px; } 
}

/* ================================
   ã‚«ãƒ¼ãƒ‰1æšï¼ˆèª¿æ•´ç‰ˆï¼‰
   ================================ */
.card {
  border: 2px solid var(--color-gray-border);
  border-radius: var(--card-border-radius);
  padding: 2px; /* â† å†…å´ä½™ç™½ã‚’ã•ã‚‰ã«åœ§ç¸® */
  text-align: center;
  background-color: var(--color-gray-light);
  font-size: var(--font-size-xsmall);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 260px; /* â† ç”»åƒã‚’å¤§ããã—ãŸåˆ† å°‘ã—é«˜ã•ã‚’ç¢ºä¿ */
}

/* ã‚«ãƒ¼ãƒ‰ç”»åƒ */
.card img {
  width: 100%;
  height: auto;
  max-height: 180px; /* â† 160px â†’ 180px ã«æ‹¡å¤§ */
  object-fit: contain;
  margin-bottom: 2px; /* â† ä½™ç™½ã‚’ã•ã‚‰ã«å‰Šã‚‹ */
}

/* ã‚«ãƒ¼ãƒ‰å */
.card-name {
  font-weight: bold;
  margin: 1px 0;
  font-size: 8px;
  white-space: normal;   /* â† æŠ˜ã‚Šè¿”ã—ã‚’è¨±å¯ */
  word-break: break-word; /* â† é•·ã„å˜èªã§ã‚‚é€”ä¸­ã§æ”¹è¡Œ */
  overflow-wrap: anywhere; /* â† ã•ã‚‰ã«å¼·åˆ¶çš„ã«æŠ˜ã‚Šè¿”ã™ */
  cursor: pointer;
}


/* ã‚«ãƒ¼ãƒ‰å†…ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ */
.card-texts {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  flex-grow: 1;
}

/* å‹Ÿé›†æšæ•° */
.card-quantity {
  font-size: 18px;   /* â† 14px â†’ 15px */
  font-weight: bold;
  color: #a66b6f;
  margin: 2px 0;
}

/* æ³¨æ„æ›¸ã */
.card-note {
  font-size: 10px;   /* â† 9px â†’ 10px */
  color: #555;
  margin-top: 1px;   /* â† é–“éš”ã‚’è©°ã‚ã‚‹ */
  line-height: 1.2;
}

/* ä¾¡æ ¼ */
.card-price {
  font-weight: bold;
  font-size: 22px;  /* â† 18px â†’ 20px ã«å¼·èª¿ */
  color: #e53935;   /* â† ä¾¡æ ¼ã¯ç›®ç«‹ãŸã›ã‚‹ */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: auto;
}


/* ä¾¡æ ¼è‰²æŒ‡å®š */
.price-store { color: #e53935 !important; font-weight: bold; }
.price-mail  { color: #43a047 !important; font-weight: bold; }

/* ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå‹Ÿé›†0æšãªã©ï¼‰ */
.gray-out { opacity: 0.9; filter: grayscale(100%); pointer-events: none; }

/* ================================
   ã€Œã‚‚ã£ã¨è¦‹ã‚‹ã€ãƒœã‚¿ãƒ³ï¼ˆè±ªè¯ãƒ»å¤§ãã‚ï¼‰
   ================================ */
#loadMoreButton {
  display: block;
  width: 100%;
  font-size: 16px;          /* æ–‡å­—ã‚’å¤§ãã‚ */
  font-weight: bold;
  padding: 20px 0;          /* ç¸¦æ–¹å‘ã‚’åºƒãã—ã¦æŠ¼ã—ã‚„ã™ã */
  margin: 10px 0;
  text-align: center;
  border-radius: 12px;
  background: linear-gradient(135deg, #f88379, #e53935); /* è±ªè¯ãªèµ¤ç³»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
  color: #fff;
  border: none;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transition: background-color 0.3s ease, transform 0.2s ease;
}

  #loadMoreButton:hover {
  background: linear-gradient(135deg, #e53935, #b71c1c);
  transform: translateY(-2px);
}

/* ç”»åƒèª­ã¿è¾¼ã¿æ™‚ã®ã¼ã‹ã— */
img.lazy { filter: blur(2px); transition: filter 0.3s; }
img.lazy.loaded { filter: none; }

/* ================================
   ç”»åƒOFFæ™‚ã®ã‚«ãƒ¼ãƒ‰ï¼ˆå°ã•ã‚è¡¨ç¤ºï¼‰
   ================================ */

/* ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰å…¨ä½“ */
.card-grid.no-image { 
  display: flex;               /* ç¸¦æ–¹å‘ã«ä¸¦ã¹ã‚‹ */
  flex-direction: column;     
  gap: 2px;                    /* ã‚«ãƒ¼ãƒ‰é–“ã®éš™é–“ã‚’å°‘ã—å°ã•ã */
  overflow-x: hidden;          /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ */
  padding: 2px;                /* å†…å´ä½™ç™½ã‚’å°‘ã—ç¸®å° */
}

/* å„ã‚«ãƒ¼ãƒ‰ */
.card.no-image { 
  display: flex;              
  flex-wrap: wrap;             /* è¦ç´ ã‚’æŠ˜ã‚Šè¿”ã—å¯èƒ½ */
  align-items: center;         /* å‚ç›´ä¸­å¤®æƒãˆ */
  justify-content: space-between; /* å·¦å³ã«å‡ç­‰é…ç½® */
  min-height: auto;           
  padding: 2px 4px;            /* å†…å´ä½™ç™½ã‚’å°‘ã—ç¸®å° */
  gap: 4px;                    /* è¦ç´ é–“ã®éš™é–“ */
  border-radius: 4px;          /* è§’ä¸¸ã‚‚å°‘ã—å°ã•ã‚ */
  font-size: 0.9em;            /* å…¨ä½“ã‚’å°‘ã—ç¸®å° */
  background-color: #f9f9f9;  
}

/* ç”»åƒã¯éè¡¨ç¤º */
.card.no-image img { display: none; }

/* ã‚«ãƒ¼ãƒ‰å */
.card.no-image .card-name { 
  font-size: 16px;   /* å°ã•ã‚è¡¨ç¤º */
  font-weight: bold; 
  flex: 1 1 auto;    
  min-width: 0;      
  margin: 0;
  white-space: nowrap;
}

/* å‹Ÿé›†æšæ•° */
.card.no-image .card-quantity { 
  font-size: 20px;   /* å°‘ã—å°ã•ã‚ */
  font-weight: bold; 
  flex: 0 0 auto;    
  margin: 0;
  white-space: nowrap;
  color: #a66b6f;
}

/* ä¾¡æ ¼è¡¨ç¤º */
.card.no-image .card-price { 
  font-size: 22px;   /* è¦‹ã‚„ã™ãå°‘ã—å¤§ãã‚ */
  flex: 1 1 auto;    
  min-width: 0;      
  white-space: nowrap;        
  overflow: hidden;           
  text-overflow: ellipsis;    
  margin: 0;
}

/* ä¾¡æ ¼è‰²ä»˜ã‘ */
.card-price .price-store-inline { 
  color: #e53935; 
  font-weight: bold; 
}
.card-price .price-mail-inline { 
  color: #43a047; 
  font-weight: bold; 
}

/* ================================
   ç”»åƒOFFæ™‚ã®èª¿æ•´å®Œäº† ä¸‹è¨˜ã‚¹ãƒãƒ›æ™‚ã®è¨­å®šå®Œäº†
   ================================ */

@media (max-width: 767px) {
  /* ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰é–“éš” */
  .card-grid { gap: 2px; }

  /* ã‚«ãƒ¼ãƒ‰å…¨ä½“ */
  .card { padding: 2px; min-height: 180px; }

  /* ã‚«ãƒ¼ãƒ‰å†…æ–‡å­—ã‚µã‚¤ã‚º */
  .card-name { font-size: 6px; }
  .card-quantity { font-size: 8px; }
  .card-price { font-size: 9px; }
  .card-note { font-size: 5px; line-height: 1.1; }

  /* ç”»åƒOFFæ™‚ */
  .card.no-image .card-name { font-size: 10px; }
  .card.no-image .card-quantity { font-size: 10px; }
  .card.no-image .card-price { font-size: 10px; }

  /* ãƒœã‚¿ãƒ³ */
  .buttons-wrapper button { font-size: 10px; padding: 5px 4px; }

  /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
  .checkbox-group label { line-height: 1.1; margin-right: 4px; font-size: 10px; }
  .checkbox-group input { transform: scale(0.9); margin-right: 2px; }
  .checkbox-group { margin-bottom: 1px; }
  .checkbox-group strong { margin-bottom: 1px; }

  /* ç”»åƒç¸®å° */
  .card img { max-height: 90px; }
}



</style>
</head>
<body>

<h1>ã€éŠæˆ¯ç‹è²·å–è¡¨(éƒµé€ã‚‚å…±é€š)ã€‘</h1>

<div class="notice-header">
  <p class="notice-important">
    åœ°æ–¹ã®æ–¹ã‚‚ã€éƒµé€ä¾¡æ ¼ï¼å¯¾é¢ä¾¡æ ¼ã§ãŠæŸ»å®šã—ã¾ã™â€¼ï¸
  </p>
  <p class="notice-sellpoint">
    å…¨å›½æœ€é«˜å€¤ã‚«ãƒ¼ãƒ‰å¤šæ•°ï¼†ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—éšæ™‚å¼·åŒ–ä¸­â€¼ï¸æŸ»å®šå¾Œã®äº¤æ¸‰ã‚‚OKğŸ™†â€â™€ï¸
  </p>
  <p class="notice-quick">
    æ±äº¬è¿‘éƒŠã®æ–¹ã¯ç§‹è‘‰åŸã§å¯¾é¢è²·å–ã‚‚å¯¾å¿œ!!ï¼ˆ11æ™‚ï½22æ™‚ï¼‰<br>
    éƒµé€ã®å ´åˆã€åˆ°ç€æ—¥ã®ç›¸å ´ã§æŸ»å®šã€æœ€çŸ­å½“æ—¥æŸ»å®š&å½“æ—¥æŒ¯è¾¼â€¼ï¸
  </p>
  <p class="notice-dm">
    è²·å–å¸Œæœ›ã‚«ãƒ¼ãƒ‰ã‚’å†™çœŸã¾ãŸã¯æ–‡å­—ã§DMã«é€ä¿¡â€¼ï¸<br>
    ï¼ˆç”³è¾¼æšæ•°25æšä»¥ä¸Š or åˆè¨ˆ30ä¸‡å††ä»¥ä¸ŠãŒå—ä»˜å¯¾è±¡ï¼‰
  </p>
</div>

<div class="controls">

  <div class="checkbox-group">
    <strong>ã€ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ç¨®æ—ã€‘</strong>
    <label><input type="checkbox" value="é’çœ¼"><span>é’çœ¼ç³»çµ±</span></label>
    <label><input type="checkbox" value="ãƒ–ãƒ©ãƒã‚¸"><span>ãƒ–ãƒ©ãƒã‚¸ç³»çµ±</span></label>
    <label><input type="checkbox" value="ãƒ¬ãƒƒãƒ‰ã‚¢ã‚¤ã‚º"><span>çœŸç´…çœ¼ç³»çµ±</span></label>
   <label><input type="checkbox" value="é–ƒåˆ€å§«"><span>é–ƒåˆ€å§«ç³»çµ±</span></label>
  </div>
  
  <div class="checkbox-group">
    <strong>ã€ãƒ¬ã‚¢ãƒªãƒ†ã‚£ãƒ»ç‰¹æ®Šãƒ¬ã‚¢ãƒªãƒ†ã‚£ãªã©ã€‘</strong>
    <label><input type="checkbox" value="20th"><span>20thç³»çµ±</span></label>
    <label><input type="checkbox" value="25th"><span>25thç³»çµ±</span></label>
    <label><input type="checkbox" value="ãƒ¬ãƒªãƒ¼ãƒ•"><span>ãƒ¬ãƒªãƒ¼ãƒ•ï¼ˆæ—§ã‚‚å«ã‚€ï¼‰ç³»çµ±</span></label>
    <label><input type="checkbox" value="ã‚¢ã‚¸ã‚¢ç‰ˆ"><span>ã‚¢ã‚¸ã‚¢ç‰ˆç³»çµ±</span></label>
    <label><input type="checkbox" value="ãƒ—ãƒªã‚ºãƒ"><span>ãƒ—ãƒªã‚ºãƒç³»çµ±</span></label>
    <label><input type="checkbox" value="ã‚¦ãƒ«ãƒˆãƒ©"><span>ã‚¦ãƒ«ãƒˆãƒ©ç³»çµ±</span></label>
    <label><input type="checkbox" value="ãƒ©ãƒƒã‚·ãƒ¥"><span>ãƒ©ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¥ã‚¨ãƒ«ç³»çµ±</span></label>
  </div>

  <div class="search-wrapper">
    <input type="text" id="searchInput" placeholder="ã‚«ãƒ¼ãƒ‰åã‚„å‹ç•ªã§æ¤œç´¢ï¼ˆã²ã‚‰ãŒãªæ¤œç´¢å¯¾å¿œï¼‰" aria-label="ã‚«ãƒ¼ãƒ‰æ¤œç´¢" />
  </div>


  <div class="buttons-wrapper">
    <button id="resetButton">æ¤œç´¢æ¡ä»¶ã‚’<br>ãƒªã‚»ãƒƒãƒˆ</button>
    <button class="sort-btn" data-sort="price">ä¾¡æ ¼<br>ï¼ˆé«˜ã„é †ï¼‰</button>
    <button class="sort-btn" data-sort="priceLow">ä¾¡æ ¼<br>ï¼ˆå®‰ã„é †ï¼‰</button>
    <button id="toggleImageButton">ç”»åƒON/OFF</button>
  </div>
</div>

<div class="card-grid" id="cardList"></div>
<button id="loadMoreButton">ã“ã¡ã‚‰ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€ã•ã‚‰ã«ã‚«ãƒ¼ãƒ‰ã‚’èª­ã¿è¾¼ã‚€</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script>
    // ã‚«ãƒ¼ãƒ‰æƒ…å ±CSVã®URLï¼ˆGoogleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒªãƒ³ã‚¯ã€€ã‚·ãƒ¼ãƒˆã”ã¨ã«å¼µã‚Šä»˜ã‘ï¼‰
const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT753ZwAyAqWj5WIi51Gd9Qnv45s-TmB0v9sMvVBe3Tj6QjYOVasVC8K8HtgYtSxEOXD7KV_iUCA9ac/pub?gid=839074683&single=true&output=csv';

let cards = [];
let filteredCards = [];
let currentPage = 0;
const cardsPerPage = 102;
let showImages = true;

// ã‚«ã‚¿ã‚«ãƒŠ â†’ ã²ã‚‰ãŒãª
function kataToHira(str){
  return str.replace(/[\u30a1-\u30f6]/g, match => String.fromCharCode(match.charCodeAt(0)-0x60));
}

// è‹±æ•°å­—å…¨è§’ â†’ åŠè§’ã€å°æ–‡å­—åŒ–ã€ã²ã‚‰ãŒãªçµ±ä¸€ã€æ¼¢å­—ã¯æ®‹ã™
function normalizeLatin(str){
  return str
    .toLowerCase()
    // å…¨è§’è‹±æ•°å­— â†’ åŠè§’
    .replace(/[ï¼¡-ï¼ºï½-ï½šï¼-ï¼™]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0))
    // å…¨è§’ã‚¹ãƒšãƒ¼ã‚¹ â†’ åŠè§’
    .replace(/\u3000/g, ' ')
    // ã²ã‚‰ãŒãªâ‡”ã‚«ã‚¿ã‚«ãƒŠçµ±ä¸€ï¼ˆã‚«ã‚¿ã‚«ãƒŠã¯ã²ã‚‰ãŒãªã«å¤‰æ›æ¸ˆã¿ï¼‰
    .replace(/[\u30a1-\u30f6]/g, s => String.fromCharCode(s.charCodeAt(0) - 0x60))
    // è¨˜å·é¡ã¯å‰Šé™¤ï¼ˆæ¼¢å­—ãƒ»ã²ã‚‰ãŒãªãƒ»è‹±æ•°å­—ã¯æ®‹ã™ï¼‰
    .replace(/[^a-z0-9ã-ã‚“ä¸€-é¾¯]/g,'');
}

// å…¥åŠ›æ–‡å­—åˆ—ã‚’ã‚¹ãƒšãƒ¼ã‚¹ãƒ»ã‚«ãƒ³ãƒãƒ»ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã§åˆ†å‰²ã—ã¦æ­£è¦åŒ–
function splitKeywords(str){
  return str.split(/[\s,ãƒ»ï¼]+/)
            .map(s => normalizeLatin(kataToHira(s)))
            .filter(Boolean);
}

// ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§é¸æŠã•ã‚ŒãŸå€¤ã‚’å–å¾—
function getCheckedValues(){
  const checked = document.querySelectorAll('.checkbox-group input:checked');
  return Array.from(checked).map(cb => cb.value);
}

function applyFilterSort(sortValueFromBtn){
  const keyword = document.getElementById('searchInput').value.trim();
  const keywords = splitKeywords(keyword);
  const checkedValues = getCheckedValues();
  let sortValue = sortValueFromBtn || document.querySelector('.sort-btn.active')?.dataset.sort || 'price';

  filteredCards = cards.filter(card => {
    // ğŸ”¹ã‚«ãƒ¼ãƒ‰åã§æ¤œç´¢åˆ¤å®š
    const target = normalizeLatin(kataToHira(card["ã‚«ãƒ¼ãƒ‰å å‹ç•ª ãƒ¬ã‚¢ãƒªãƒ†ã‚£"]||""));
    const keywordMatch = keywords.every(k => target.includes(k));

// ğŸ”¹åˆ†é¡ã§ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹åˆ¤å®šï¼ˆåˆ†é¡1 ã¾ãŸã¯ åˆ†é¡2 ã«å«ã¾ã‚Œã‚‹ã‹ã§åˆ¤å®šï¼‰
const classification1 = normalizeLatin(kataToHira(card["åˆ†é¡1"] || ""));
const classification2 = normalizeLatin(kataToHira(card["åˆ†é¡2"] || ""));
const checkboxMatch =
  checkedValues.length===0 ||
  checkedValues.some(val => classification1.includes(normalizeLatin(kataToHira(val))) ||
                            classification2.includes(normalizeLatin(kataToHira(val))));

    return keywordMatch && checkboxMatch;
  });

  if(sortValue==='price'){
    filteredCards.sort((a,b)=> 
      (Number((b["åº—é ­ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,''))||0) -
      (Number((a["åº—é ­ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,''))||0)
    );
  } else if(sortValue==='priceLow'){
    filteredCards.sort((a,b)=> 
      (Number((a["åº—é ­ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,''))||0) -
      (Number((b["åº—é ­ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,''))||0)
    );
  }

  currentPage=0;
  displayNextPage();
}


async function fetchCsvData(){
  document.getElementById('cardList').textContent='èª­ã¿è¾¼ã¿ä¸­.....';
  try{
    const res = await fetch(csvUrl);
    const text = await res.text();
    const parsed = Papa.parse(text,{header:true, skipEmptyLines:true});
cards = parsed.data.map(card=>({
  "ã‚«ãƒ¼ãƒ‰å å‹ç•ª ãƒ¬ã‚¢ãƒªãƒ†ã‚£": card["ã‚«ãƒ¼ãƒ‰å å‹ç•ª ãƒ¬ã‚¢ãƒªãƒ†ã‚£"],
  "åˆ†é¡1": card["åˆ†é¡1"],   // â† æ–°ã—ãè¿½åŠ 
  "åˆ†é¡2": card["åˆ†é¡2"],   // â† æ–°ã—ãè¿½åŠ 
  "å‹Ÿé›†æšæ•°": card["å‹Ÿé›†æšæ•°"],
  "åº—é ­ä¾¡æ ¼": card["åº—é ­ä¾¡æ ¼"],
  "æœ€ä½ä¾¡æ ¼": card["æœ€ä½ä¾¡æ ¼"],
  "ç”»åƒURL": card["ç”»åƒURL"],
  "ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç™ºå‹•æ™‚å°‚ç”¨": card["ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç™ºå‹•æ™‚å°‚ç”¨"]
}));

    applyFilterSort();
  } catch(e){ console.error(e); document.getElementById('cardList').textContent='ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚'; }
}

const observer = new IntersectionObserver(entries=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      const img=entry.target;
      if(img.dataset.src) { img.src=img.dataset.src; img.classList.add('loaded'); img.removeAttribute('data-src'); }
      observer.unobserve(img);
    }
  });
});

function displayNextPage(){
  const start = currentPage * cardsPerPage;
  const end = start + cardsPerPage;
  const cardsToShow = filteredCards.slice(start, end);

  if(currentPage === 0) document.getElementById('cardList').innerHTML = '';

  const cardGrid = document.getElementById('cardList');
  const fragment = document.createDocumentFragment(); // â† ã“ã“ã§ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆä½œæˆ

  cardsToShow.forEach(card => {
    const isZero = (card["å‹Ÿé›†æšæ•°"]||"").trim() === "0æšå‹Ÿé›†ä¸­";
    const grayClass = isZero ? 'gray-out' : '';
    const normalPrice = Number((card["åº—é ­ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,'')) || 0;
    const foilPrice = Number((card["æœ€ä½ä¾¡æ ¼"]||'0').replace(/[Â¥,\s]/g,'')) || 0;
    
    const priceDisplay = showImages
      ? isZero ? (card["ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç™ºå‹•æ™‚å°‚ç”¨"]||'DMã§ç¢ºèª') 
               : `<span class="price-store">å…±é€šè²·å–ä¾¡æ ¼</span><br><span class="price-store">Â¥${normalPrice.toLocaleString()}</span><br><span class="price-mail">æœ€ä½è²·å–ä¾¡æ ¼</span><br><span class="price-mail">Â¥${foilPrice.toLocaleString()}</span>`
      : isZero ? (card["ã‚°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç™ºå‹•æ™‚å°‚ç”¨"]||'DMã§ç¢ºèª') 
               : `<span class="price-store-inline">å…±é€šè²·å–ä¾¡æ ¼ Â¥${normalPrice.toLocaleString()}</span> / <span class="price-mail-inline">æœ€ä½è²·å–ä¾¡æ ¼ Â¥${foilPrice.toLocaleString()}</span>`;

    const div = document.createElement('div');
    div.className = `card ${grayClass} ${!showImages ? 'no-image' : ''}`;
    div.innerHTML = `
      <img data-src="${card.ç”»åƒURL}" loading="lazy" alt="${card["ã‚«ãƒ¼ãƒ‰å å‹ç•ª ãƒ¬ã‚¢ãƒªãƒ†ã‚£"]}" class="lazy"/>
      <div class="card-name">${card["ã‚«ãƒ¼ãƒ‰å å‹ç•ª ãƒ¬ã‚¢ãƒªãƒ†ã‚£"]}</div>
      <div class="card-texts">
        <div class="card-price">${priceDisplay}</div>
        <div class="card-quantity">æœ¬æ—¥${isZero ? '<br>æº€é¡ã¯çµ‚äº†' : (card["å‹Ÿé›†æšæ•°"]||'-')}</div>
      </div>
    `;

    fragment.appendChild(div);

    // IntersectionObserver ã®ç™»éŒ²ã‚‚ã“ã“ã§ã¾ã¨ã‚ã¦å®Ÿè¡Œ
    const img = div.querySelector('img.lazy');
    if(img) observer.observe(img);
  });

  cardGrid.appendChild(fragment); // â† DOM ã¯ã¾ã¨ã‚ã¦è¿½åŠ 

  if(showImages){
    cardGrid.classList.remove('no-image');
  } else {
    cardGrid.classList.add('no-image');
  }

  currentPage++;
  document.getElementById('loadMoreButton').style.display = (end >= filteredCards.length) ? 'none' : 'block';
}


// ã‚¤ãƒ™ãƒ³ãƒˆ 
document.getElementById('loadMoreButton').addEventListener('click', displayNextPage);

document.getElementById('resetButton').addEventListener('click', () => {
  document.getElementById('searchInput').value = '';
  document.querySelectorAll('.checkbox-group input').forEach(cb => cb.checked = false);
  document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector('.sort-btn[data-sort="price"]').classList.add('active');
  applyFilterSort('price');
});

document.getElementById('searchInput').addEventListener('input', () => {
  // æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›æ™‚ â†’ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã™ã¹ã¦ã‚ªãƒ•
  document.querySelectorAll('.checkbox-group input').forEach(cb => cb.checked = false);
  applyFilterSort();
});

// ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æ“ä½œæ™‚ â†’ æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªã‚¢
document.querySelectorAll('.checkbox-group input').forEach(cb =>
  cb.addEventListener('change', () => {
    if (cb.checked) {
      // è‡ªåˆ†ä»¥å¤–ã®ãƒã‚§ãƒƒã‚¯ã‚’å¤–ã™
      document.querySelectorAll('.checkbox-group input').forEach(other => {
        if (other !== cb) other.checked = false;
      });
    }
    // ï¼ˆcb.checked ãŒ false ã®å ´åˆã¯ä½•ã‚‚ã—ãªã„ â†’ å…¨éƒ¨æœªé¸æŠã‚‚OKï¼‰
    document.getElementById('searchInput').value = '';
    applyFilterSort();
  })
);


document.querySelectorAll('.sort-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.sort-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    applyFilterSort(btn.dataset.sort);
  });
});

// ç”»åƒON/OFF
document.getElementById('toggleImageButton').addEventListener('click',()=>{
  showImages = !showImages;
  currentPage=0;
  displayNextPage();
});

fetchCsvData();
</script>
</body>
</html>
